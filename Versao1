import random
import sys
#INTRODUCAO
pergunta_incial = input("Olá, seja bem vindo ao jogo de BlackJack! Já conhece as regras do jogo? ")

def verifica_prontidao(pergunta_inicial):
    if pergunta_incial == "sim" or pergunta_incial == "s":
        return "Ótimo! Vamos começar então!"
    else:
         segunda_pergunta = input("É um jogo fácil de entender, com apenas alguns pontos a comentar. \n"
         "N° 1: Os valores das cartas são definidas por seus respectivos números, para as cartas númericas. \n"
         "Para as cartas com letras, o valor é de 10 para Valete, Dama e Rei. \n"
         "E para o Ás, o valor pode ser 1 ou 11, dependendo do que favorecer o jogador. \n"
         "N° 2: O objetivo principal é aproximar-se o máximo possível a 21, sem estourar o limite \n"
         "Caso o jogador vença o croupier, ele recebe o mesmo valor da aposta, no entanto, no caso da derrota, \n"
         "o jogador perde o valor apostado. No caso de empate, o valor apostado é retornado e ninguém perde ou vence. \n"
         "N° 3: Caso o jogador obtenha 21 com as duas primeiras cartas recebidas, ele recebe 1,5 vezes o valor \n"
         "apostado. Se o jogador não obtiver 21 com as duas primeiras, ele pode pedir ao croupier mais uma carta \n"
         "para continuar buscando a vitória. \n"
         "N° 4: Em todo fim de jogada você pode desistir da partida, basta dizer 'fim' para o croupier \n"
          ""
         "Estas são as noções básicas, entendeu e está pronto para continuar? ")
    if segunda_pergunta == "sim" or segunda_pergunta == "s":
        return "Ótimo! Vamos começar então!"
    else:
        while segunda_pergunta != "sim" or segunda_pergunta != "s":
            return verifica_prontidao(pergunta_inicial)

print(verifica_prontidao(pergunta_incial))
#COMECANDO A ORGANIZAR O COMECO DAS JOGADAS
A = 11
J = 10
Q = 10
K = 10

cartas = [A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K]
maoj = []
maoc = []
#FUNCAO PARA O CROUPIER PEGAR UMA CARTA PARA O JOGADOR
def pegar_carta_j(cartas):
    carta_selecionada = random.choice(cartas)
    if carta_selecionada not in maoj and carta_selecionada not in maoc:
        maoj.append(carta_selecionada)
    else:
        pegar_carta_j(cartas)

#FUNCAO PARA O CROUPIER PEGAR UMA CARTA PARA SI
def pegar_carta_c(cartas):
    carta_selecionada = random.choice(cartas)
    if carta_selecionada not in maoc and carta_selecionada not in maoj:
        maoc.append(carta_selecionada)
    else:
        pegar_carta_c(cartas)

#CARTEIRA DO JOGADOR, QUANTO ELE TEM PARA APOSTAR
carteira = 100

#COMECO DO JOGO
pergunta_comeco_jogo = str(input("Para apostar um valor, digite 'aposta'. Para encerrar o jogo, digite 'fim'. "))

#FEATURES 1 E 2
if pergunta_comeco_jogo == "fim":
    print("Jogo encerrado! Até a próxima! \n"
          "Saldo final do jogador: {}".format(carteira))
    sys.exit()
elif pergunta_comeco_jogo == "aposta":
    aposta = int(input("Quanto deseja apostar? "))
    if aposta > carteira:
        print("Saldo insuficiente para aposta... tente um valor menor")
    elif aposta <= 0:
        print("Aposta menor ou igual a zero, tente apostar um valor inteiro maior que zero")

carteira -= aposta

pegar_carta_c(cartas)
pegar_carta_c(cartas)
total_c = maoc[0] + maoc[1]
print("As duas primeiras cartas do croupier são: {0} e {1}, totalizando {2}".format(maoc[0], maoc[1],total_c))

pegar_carta_j(cartas)
pegar_carta_j(cartas)
total_j = maoj[0] + maoj[1]
print("Suas duas primeiras cartas são: {0} e {1}, totalizando {2}".format(maoj[0], maoj[1], total_j))

if maoc[0] + maoc[1] == 21:
    print("Uma pena! O croupier venceu logo de primeira! Você perdeu este jogo.")
    sys.exit()
elif maoj[0] + maoj[1] == 21:
    print("Blackjack! Parabéns você venceu logo de primeira! Sua carteira será atualizada ao receber seu prêmio! ")
    carteira += aposta * 2.5

prox_jogada = input("Responda 'continuar' para continuar jogando e receber mais carta, ou responda 'parar' para encerrar o jogo: ")

if prox_jogada == "continuar":
    pegar_carta_c(cartas)
    total_c += maoc[2]
    print("Total atual do croupier: {}".format(total_c))
    if total_c == 21:
        print("Uma pena! O croupier venceu! Você perdeu este jogo.")
        sys.exit()
    elif total_c > 21:
        print("O croupier estourou o limite de 21! Você venceu!")
        carteira += aposta * 2
    pegar_carta_j(cartas)
    total_j += maoj[2]
    print("Total atual do jogador: {}".format(total_j))
    if total_j == 21:
        print("Blackjack! Você venceu o jogou!")
        carteira += aposta * 2
    elif total_j > 21:
        print("Você estourou o limite de 21! Você perdeu!")
        sys.exit()
elif prox_jogada == "fim":
    print("Jogo encerrado! Até a próxima!")
    sys.exit()
elif prox_jogada == "parar":
    while total_c < 17:
        pegar_carta_c(cartas)
        for i in range(len(maoc)):
            i = 2
            total_c += maoc[i]
            i += 1
    print("O total do croupier é: {}".format(total_c))
